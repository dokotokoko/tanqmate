<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Writing Style Selector - Animation Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f3f4f6;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    /* ã‚³ãƒ³ãƒ†ãƒŠ */
    .container {
      background: white;
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      max-width: 700px;
      width: 100%;
    }

    /* ========================================
       1. ãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
       ======================================== */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .toggle-wrapper {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      user-select: none;
    }

    .toggle {
      width: 44px;
      height: 24px;
      background: #e5e7eb;
      border-radius: 12px;
      position: relative;
      /* â˜… èƒŒæ™¯è‰²ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
      transition: background-color 0.3s ease;
    }

    .toggle.active {
      background: #3b82f6;
    }

    .toggle-knob {
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 50%;
      position: absolute;
      top: 2px;
      left: 2px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
      /* â˜… ã¤ã¾ã¿ã®ç§»å‹•ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒã‚¦ãƒ³ã‚¹åŠ¹æœä»˜ãï¼‰ */
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .toggle.active .toggle-knob {
      transform: translateX(20px);
    }

    .toggle-label {
      font-weight: 500;
      color: #1f2937;
      font-size: 15px;
    }

    .language-btn {
      background: transparent;
      border: none;
      color: #6b7280;
      cursor: pointer;
      font-size: 14px;
    }

    /* ========================================
       2. ãƒ‘ãƒãƒ«å±•é–‹ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
       ======================================== */
    .panel {
      /* é–‰ã˜ãŸçŠ¶æ…‹ï¼šé«˜ã•0ã€é€æ˜ */
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      /* â˜… å±•é–‹ãƒ»åç¸®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
      transition: 
        max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),
        opacity 0.3s ease 0.1s,
        margin 0.3s ease;
      margin-bottom: 0;
    }

    .panel.open {
      /* é–‹ã„ãŸçŠ¶æ…‹ */
      max-height: 300px;
      opacity: 1;
      margin-bottom: 16px;
    }

    .panel-content {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      padding-top: 12px;
    }

    .styles-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      flex: 1;
    }

    /* ========================================
       3. ã‚¹ã‚¿ã‚¤ãƒ«ãƒœã‚¿ãƒ³ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
       ======================================== */
    .style-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      border-radius: 20px;
      cursor: pointer;
      position: relative;
      font-family: inherit;
      /* â˜… ãƒ›ãƒãƒ¼ãƒ»é¸æŠæ™‚ã®ã‚¹ãƒ ãƒ¼ã‚ºãªå¤‰åŒ– */
      transition: 
        background-color 0.2s ease,
        border-color 0.2s ease,
        transform 0.15s ease,
        box-shadow 0.2s ease;
    }

    .style-btn:hover {
      background: #f3f4f6;
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .style-btn:active {
      transform: translateY(0);
    }

    .style-btn.selected {
      background: #eff6ff;
      border-color: #93c5fd;
    }

    .style-emoji {
      font-size: 16px;
    }

    .style-label {
      font-size: 14px;
      color: #374151;
    }

    /* â˜… ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ãƒãƒƒã‚¸ - ãƒãƒƒãƒ—ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    .check-badge {
      position: absolute;
      top: -6px;
      right: -6px;
      width: 18px;
      height: 18px;
      background: #3b82f6;
      color: white;
      border-radius: 50%;
      font-size: 10px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      /* â˜… å¼¾ã‚€ã‚ˆã†ãªãƒãƒƒãƒ—ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
      animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    @keyframes popIn {
      0% {
        transform: scale(0);
        opacity: 0;
      }
      50% {
        transform: scale(1.2);
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    /* + More instructions ãƒœã‚¿ãƒ³ï¼ˆç‚¹ç·šï¼‰ */
    .more-btn {
      display: inline-flex;
      align-items: center;
      padding: 8px 16px;
      background: transparent;
      border: 1px dashed #9ca3af;
      border-radius: 20px;
      color: #9ca3af;
      cursor: pointer;
      font-size: 14px;
      font-family: inherit;
      transition: 
        border-color 0.2s ease,
        color 0.2s ease;
    }

    .more-btn:hover {
      border-color: #6b7280;
      color: #6b7280;
    }

    .settings-btn {
      background: transparent;
      border: none;
      color: #9ca3af;
      cursor: pointer;
      font-size: 20px;
      padding: 8px;
      transition: color 0.2s ease;
    }

    .settings-btn:hover {
      color: #6b7280;
    }

    /* ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ */
    .input-area {
      width: 100%;
      min-height: 120px;
      padding: 12px;
      border: none;
      border-top: 1px solid #e5e7eb;
      resize: none;
      font-size: 16px;
      color: #374151;
      font-family: inherit;
    }

    .input-area::placeholder {
      color: #9ca3af;
    }

    .input-area:focus {
      outline: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ï¼šãƒˆã‚°ãƒ«ã‚¹ã‚¤ãƒƒãƒ -->
    <div class="header">
      <div class="toggle-wrapper" onclick="togglePanel()">
        <div class="toggle" id="toggle">
          <div class="toggle-knob"></div>
        </div>
        <span class="toggle-label">Writing style</span>
      </div>
      <button class="language-btn">â‡„ Japanese</button>
    </div>

    <!-- å±•é–‹ãƒ‘ãƒãƒ« -->
    <div class="panel" id="panel">
      <div class="panel-content">
        <div class="styles-grid" id="stylesGrid">
          <!-- JavaScriptã§ç”Ÿæˆ -->
        </div>
        <button class="settings-btn">âš™</button>
      </div>
    </div>

    <!-- ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ -->
    <textarea class="input-area" placeholder="Type in any language..."></textarea>
  </div>

  <script>
    const styles = [
      { id: 'polite', emoji: 'ğŸ¤“', label: 'Polite' },
      { id: 'casual', emoji: 'ğŸ˜»', label: 'Casual' },
      { id: 'friend', emoji: 'ğŸ’¬', label: 'Friend chat' },
      { id: 'genz', emoji: 'ğŸ§¢', label: 'Gen Z' },
      { id: 'forum', emoji: 'ğŸ—³', label: 'Forum thread' },
      { id: 'engaging', emoji: 'ğŸ¤¹', label: 'Engaging' },
      { id: 'child', emoji: 'ğŸ””', label: 'Child-friendly' },
      { id: 'business', emoji: 'ğŸ¯', label: 'Business email' },
      { id: 'support', emoji: 'ğŸ—', label: 'Customer Support' },
      { id: 'promo', emoji: 'ğŸº', label: 'Social Media Promo' },
      { id: 'social', emoji: 'ğŸ§‘', label: 'Everyday Social Post' },
      { id: 'micro', emoji: 'ğŸ“Š', label: 'Microcopy' },
    ];

    let isOpen = false;
    let selectedStyle = null;

    // ã‚¹ã‚¿ã‚¤ãƒ«ãƒœã‚¿ãƒ³ã‚’ç”Ÿæˆ
    function renderStyles() {
      const grid = document.getElementById('stylesGrid');
      grid.innerHTML = '';
      
      styles.forEach(style => {
        const btn = document.createElement('button');
        btn.className = `style-btn ${selectedStyle === style.id ? 'selected' : ''}`;
        btn.onclick = () => selectStyle(style.id);
        btn.innerHTML = `
          <span class="style-emoji">${style.emoji}</span>
          <span class="style-label">${style.label}</span>
          ${selectedStyle === style.id ? '<span class="check-badge">âœ“</span>' : ''}
        `;
        grid.appendChild(btn);
      });

      // + More instructions ãƒœã‚¿ãƒ³
      const moreBtn = document.createElement('button');
      moreBtn.className = 'more-btn';
      moreBtn.textContent = '+ More instructions';
      grid.appendChild(moreBtn);
    }

    // ãƒˆã‚°ãƒ«é–‹é–‰
    function togglePanel() {
      isOpen = !isOpen;
      document.getElementById('toggle').classList.toggle('active', isOpen);
      document.getElementById('panel').classList.toggle('open', isOpen);
    }

    // ã‚¹ã‚¿ã‚¤ãƒ«é¸æŠ
    function selectStyle(id) {
      selectedStyle = selectedStyle === id ? null : id;
      renderStyles();
    }

    // åˆæœŸåŒ–
    renderStyles();
  </script>
</body>
</html>